<div class="profile-box1" *ngIf="profile">
    <div class="first-row">
        <h2>Profile</h2>
        <div *ngIf="hasUnsavedChanges" class="unsaved-warning">
            There are unsaved changes
        </div>
    </div>
    <div class="status-row">
        <p class="status">
            Profile status: <span class="status"
                                  [ngClass]="currentProfileStatus.toLowerCase()">{{ currentProfileStatus }}</span>
        </p>
        <div class="status-actions">
            <select
                    [(ngModel)]="selectedProfileStatus"
                    name="profileStatus"
                    class="status-select"
                    (change)="checkForUnsavedChanges()"
            >
                <option value="" disabled selected hidden>Change profile status</option>
                <option *ngFor="let status of statusOptions" [value]="status"
                        [hidden]="status === currentProfileStatus">
                    {{ status }}
                </option>
            </select>
            <button class="save-btn" (click)="saveChanges()">Save Changes</button>
        </div>
    </div>

    <div class="profile-box2">
        <form class="profile-form">
            <div class="form-grid">
                <div class="form-group">
                    <label>First name</label>
                    <div class="field-value">{{ profile.first_name }}</div>
                </div>

                <div class="form-group span-2">
                    <label>Address</label>
                    <div class="field-value">{{ profile.address }}</div>
                </div>

                <div class="form-group">
                    <label>Last name</label>
                    <div class="field-value">{{ profile.last_name }}</div>
                </div>

                <div class="form-group">
                    <label>City</label>
                    <div class="field-value">{{ profile.city }}</div>
                </div>

                <div class="form-group">
                    <label>Country</label>
                    <div class="field-value">{{ country }}</div>
                </div>

                <div class="form-group">
                    <label>Email</label>
                    <div class="field-value">{{ email }}</div>
                </div>

                <div class="form-group span-2">
                    <label>National ID</label>
                    <div class="field-value">{{ profile.national_id }}</div>
                </div>

                <div class="form-group">
                    <label>Date of birth</label>
                    <div class="field-value">{{ profile.date_of_birth }}</div>
                </div>

                <div class="form-group">
                    <label>Organization</label>
                    <div class="field-value">{{ organization }}</div>
                </div>

                <div class="form-group">
                    <label>Role</label>
                    <select
                            [(ngModel)]="role"
                            name="role"
                            (change)="onRoleChange(role)"
                    >
                        <option [ngValue]="null" disabled hidden>Role*</option>
                        <option
                                *ngFor="let r of roles"
                                [ngValue]="r"
                                [hidden]="role?.id === r.id"
                        >
                            {{ r.name }}
                        </option>
                    </select>

                </div>
            </div>
        </form>
    </div>
</div>
